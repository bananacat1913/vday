<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Valentine?</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Varela+Round&display=swap" rel="stylesheet">
    <!-- Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        body {
            font-family: 'Varela Round', sans-serif;
            background: linear-gradient(-45deg, #ffe4e6, #fda4af, #fecdd3, #fff1f2);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            overflow: hidden; /* Prevent scrolling from floating elements */
            position: relative;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Floating Hearts Background Animation */
        .circles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0; /* Behind everything */
            margin: 0;
            padding: 0;
        }

        .circles li {
            position: absolute;
            display: block;
            list-style: none;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.4);
            animation: animate 25s linear infinite;
            bottom: -150px;
            
            /* Heart Shape using Clip Path */
            clip-path: path('M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z');
            background-color: rgba(255, 255, 255, 0.6);
            transform: scale(1.5); /* Scale up the path */
        }

        .circles li:nth-child(1) {
            left: 25%;
            width: 80px;
            height: 80px;
            animation-delay: 0s;
        }

        .circles li:nth-child(2) {
            left: 10%;
            width: 20px;
            height: 20px;
            animation-delay: 2s;
            animation-duration: 12s;
        }

        .circles li:nth-child(3) {
            left: 70%;
            width: 20px;
            height: 20px;
            animation-delay: 4s;
        }

        .circles li:nth-child(4) {
            left: 40%;
            width: 60px;
            height: 60px;
            animation-delay: 0s;
            animation-duration: 18s;
        }

        .circles li:nth-child(5) {
            left: 65%;
            width: 20px;
            height: 20px;
            animation-delay: 0s;
        }

        .circles li:nth-child(6) {
            left: 75%;
            width: 110px;
            height: 110px;
            animation-delay: 3s;
        }

        .circles li:nth-child(7) {
            left: 35%;
            width: 150px;
            height: 150px;
            animation-delay: 7s;
        }

        .circles li:nth-child(8) {
            left: 50%;
            width: 25px;
            height: 25px;
            animation-delay: 15s;
            animation-duration: 45s;
        }

        .circles li:nth-child(9) {
            left: 20%;
            width: 15px;
            height: 15px;
            animation-delay: 2s;
            animation-duration: 35s;
        }

        .circles li:nth-child(10) {
            left: 85%;
            width: 150px;
            height: 150px;
            animation-delay: 0s;
            animation-duration: 11s;
        }

        @keyframes animate {
            0% {
                transform: translateY(0) rotate(0deg) scale(0.5);
                opacity: 1;
                border-radius: 0;
            }
            100% {
                transform: translateY(-1000px) rotate(720deg) scale(1.2);
                opacity: 0;
                border-radius: 50%;
            }
        }

        h1 {
            font-family: 'Pacifico', cursive;
        }

        .btn-transition {
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Float Animation for the main graphic */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }

        /* Pulse animation for the YES button */
        @keyframes subtle-pulse {
            0% { transform: scale(1); box-shadow: 0 4px 6px -1px rgba(225, 29, 72, 0.3); }
            50% { transform: scale(1.05); box-shadow: 0 10px 15px -3px rgba(225, 29, 72, 0.4); }
            100% { transform: scale(1); box-shadow: 0 4px 6px -1px rgba(225, 29, 72, 0.3); }
        }
        .animate-pulse-custom {
            animation: subtle-pulse 2s infinite;
        }
        
        /* Ensure images don't shrink when button grows */
        img {
            pointer-events: none; /* Prevents dragging the image */
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4 relative">

    <!-- Background Animation Elements -->
    <ul class="circles">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>

    <!-- Main Container -->
    <div id="main-card" class="bg-white/90 backdrop-blur-sm p-8 rounded-3xl shadow-2xl max-w-md w-full text-center border-4 border-white relative z-10 transition-all duration-500 flex flex-col items-center gap-6">
        
        <!-- GIF Character (Idle) -->
        <!-- Added flex-shrink-0 to prevent squishing when button grows -->
        <div id="character-idle" class="w-full flex justify-center flex-shrink-0 animate-float">
            <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExa3VsbWJvc3hhczViZ2JuNW9xOHYxMWZmM3BlMXkwYjRlZWk4NG1tZyZlcD12MV9naWZzX3NlYXJjaCZjdD1n/Y9JMJfjvNPwwGc93Xg/giphy.gif" class="w-48 h-48 object-contain rounded-xl">
        </div>

        <!-- GIF Character (Happy/Success) - Hidden initially -->
        <div id="character-happy" class="w-full justify-center flex-shrink-0 hidden">
            <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbHNxMWhoeGV0aW56OTRkdmZrcXcxZ2dnYmU1bHl3emV1b3g0NWJ2dSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/13Uqp5IGFpmDle/giphy.gif" class="w-48 h-48 object-contain rounded-xl">
        </div>

        <!-- Question Text -->
        <h1 id="question-text" class="text-3xl md:text-4xl text-rose-600 leading-tight font-bold">
            Will you be my Valentine?
        </h1>

        <!-- Buttons Area -->
        <div id="buttons-container" class="flex flex-col md:flex-row gap-4 items-center justify-center w-full z-50">
            <button id="yes-btn" class="btn-transition animate-pulse-custom bg-rose-500 hover:bg-rose-600 text-white font-bold py-3 px-8 rounded-full text-xl shadow-lg hover:shadow-xl transform origin-center whitespace-nowrap">
                Yes!‚ù§Ô∏è
            </button>
            
            <button id="no-btn" class="btn-transition bg-rose-100 hover:bg-rose-200 text-rose-800 font-semibold py-3 px-8 rounded-full text-lg shadow-sm whitespace-nowrap">
                No
            </button>
        </div>

        <!-- Success Message (Hidden) -->
        <div id="success-message" class="hidden flex-col items-center animate-bounce">
            <h2 class="text-3xl font-bold text-rose-600 mb-2">YAY!üíñ</h2>
            <p class="text-gray-600 text-lg">I love you babygirl</p>
        </div>

    </div>

    <script>
        const yesBtn = document.getElementById('yes-btn');
        const noBtn = document.getElementById('no-btn');
        const questionText = document.getElementById('question-text');
        const mainCard = document.getElementById('main-card');
        const charIdle = document.getElementById('character-idle');
        const charHappy = document.getElementById('character-happy');
        const successMessage = document.getElementById('success-message');
        const buttonsContainer = document.getElementById('buttons-container');

        let noClickCount = 0;
        const noPhrases = [
            "No",
            "Are you sure?",
            "Really sure?",
            "Think again!",
            "Last chance!",
            "Surely not?",
            "You might regret this!",
            "Give it another thought!",
            "Are you absolutely certain?",
            "This could be a mistake!",
            "Have a heart!",
            "Don't be so cold!",
            "Change of heart?",
            "Wouldn't you reconsider?",
            "Is that your final answer?",
            "You're breaking my heart ;(",
            "Plsss? :("
        ];

        // Function to update button state when "No" is clicked
        function handleNoClick() {
            noClickCount++;
            
            // 1. Change the text of the No button
            // Use the phrase array, or repeat the last one if we run out
            const textIndex = Math.min(noClickCount, noPhrases.length - 1);
            noBtn.innerText = noPhrases[textIndex];

            // 2. Increase the font size of the Yes button
            // Base size is 1.25rem (text-xl). We'll multiply this.
            const baseSize = 1.25; // in rem
            const growthFactor = 0.5; // How much it grows per click
            const newSize = baseSize + (noClickCount * growthFactor);
            
            yesBtn.style.fontSize = `${newSize}rem`;
            // Also increase padding to keep proportions
            yesBtn.style.padding = `${0.75 + noClickCount * 0.5}rem ${2 + noClickCount * 1}rem`;
            
            // If it gets too big, we can hide the No button visually or just let Yes take over
            if (noClickCount > 8) {
                noBtn.style.opacity = '0.5';
            }
        }

        // Celebration function
        function handleYesClick() {
            // 1. Hide buttons
            buttonsContainer.classList.add('hidden');
            
            // 2. Change image
            charIdle.classList.add('hidden');
            charHappy.classList.remove('hidden');
            charHappy.classList.add('flex');

            // 3. Update text
            questionText.classList.add('hidden');
            successMessage.classList.remove('hidden');
            successMessage.classList.add('flex');

            // 4. Trigger Confetti
            triggerConfetti();
        }

        function triggerConfetti() {
            const duration = 3000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            const random = (min, max) => Math.random() * (max - min) + min;

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50 * (timeLeft / duration);
                
                // since particles fall down, start a bit higher than random
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
            
            // Big burst at the start
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 }
            });
        }

        // Event Listeners
        noBtn.addEventListener('click', handleNoClick);
        yesBtn.addEventListener('click', handleYesClick);

    </script>
</body>
</html>